---
layout: image-left
image: https://source.unsplash.com/collection/94734566/1920x1080
---

## 写入函数

要想改变合约中对数据就需要调用合约的写入函数，调用写入函数本质上就是一个以太坊交易，只不过交易中的 to 地址是被调用合约的地址，被调用的函数名和参数等数据被放到了 inputdata 中。

以下是以太坊交易的组成部分：

``` js
{
    from: '0x02f84a56e4ebba0f7840aab2664ad1c8476b5ed5',
    to: '0x159b1ca268155e6e39e33b9b7b910e820b16802d',
    gasPrice: '0x200b34af08',
    value: '0x75cefbf568df8',
    data: '<一段 16 进制的字节码>',
    gasLimit: 214957,
    chainId: '0x5',
    nonce: '0xcf65',
    networkId: 1
}
```

以太坊矿工收到这笔交易后，通过 to 地址来定位合约，通过 inputdata 来确定函数名和参数。

具体流程如下：

- 发起者将交易发送到以太坊节点，交易被存放到交易池中，此时该交易的状态为 pending。
- 矿工从交易池中取出交易，执行这笔交易中涉及的合约函数，然后生成区块，广播到全网节点。

由于交易被打包需要一个过程，所以对合约函数的调用并不能直接返回值，想获得返回值需要再次查询。